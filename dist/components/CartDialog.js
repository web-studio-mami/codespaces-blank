import { jsx as _jsx, jsxs as _jsxs } from "react/jsx-runtime";
import { ResponsiveDialog, ResponsiveDialogContent, ResponsiveDialogHeader, ResponsiveDialogTitle, ResponsiveDialogDescription, } from "./ui/responsive-dialog.js";
import { Button } from "./ui/button.js";
import { X, Minus, Plus, ShoppingBag } from "lucide-react";
import { ImageWithFallback } from "./figma/ImageWithFallback.js";
import { toast } from "sonner";
export function CartDialog({ open, onOpenChange, items, onUpdateQuantity, onRemoveItem, }) {
    const total = items.reduce((sum, item) => sum + item.price * item.quantity, 0);
    return (_jsx(ResponsiveDialog, { open: open, onOpenChange: onOpenChange, children: _jsxs(ResponsiveDialogContent, { className: "max-w-3xl max-h-[90vh] overflow-y-auto", children: [_jsxs(ResponsiveDialogHeader, { children: [_jsxs(ResponsiveDialogTitle, { className: "flex items-center gap-2", children: [_jsx(ShoppingBag, { className: "w-5 h-5" }), "\u041A\u043E\u0440\u0437\u0438\u043D\u0430"] }), _jsx(ResponsiveDialogDescription, { children: "\u0423\u043F\u0440\u0430\u0432\u043B\u0435\u043D\u0438\u0435 \u0442\u043E\u0432\u0430\u0440\u0430\u043C\u0438 \u0432 \u0432\u0430\u0448\u0435\u0439 \u043A\u043E\u0440\u0437\u0438\u043D\u0435" })] }), items.length === 0 ? (_jsxs("div", { className: "py-12 text-center text-muted-foreground", children: [_jsx(ShoppingBag, { className: "w-16 h-16 mx-auto mb-4 opacity-20" }), _jsx("p", { children: "\u041A\u043E\u0440\u0437\u0438\u043D\u0430 \u043F\u0443\u0441\u0442\u0430" })] })) : (_jsxs("div", { className: "space-y-6", children: [_jsx("div", { className: "space-y-4", children: items.map((item) => (_jsxs("div", { className: "flex gap-4 border-b border-border pb-4", children: [_jsx("div", { className: "w-24 h-24 flex-shrink-0 bg-muted overflow-hidden", children: _jsx(ImageWithFallback, { src: item.imageUrl, alt: item.name, className: "w-full h-full object-cover" }) }), _jsxs("div", { className: "flex-1 min-w-0", children: [_jsxs("div", { className: "flex justify-between items-start", children: [_jsxs("div", { children: [_jsx("h4", { className: "font-medium", children: item.name }), _jsxs("p", { className: "text-sm text-muted-foreground", children: ["\u0420\u0430\u0437\u043C\u0435\u0440: ", item.size] }), _jsxs("p", { className: "mt-1", children: [item.price.toLocaleString("ru-RU"), " \u20BD"] })] }), _jsx("button", { onClick: () => onRemoveItem(item.id, item.size), className: "text-muted-foreground hover:text-foreground transition-colors", children: _jsx(X, { className: "w-5 h-5" }) })] }), _jsxs("div", { className: "flex items-center gap-3 mt-3", children: [_jsx("button", { onClick: () => onUpdateQuantity(item.id, item.size, item.quantity - 1), disabled: item.quantity <= 1, className: "w-8 h-8 flex items-center justify-center border border-border hover:bg-accent disabled:opacity-30 disabled:cursor-not-allowed transition-colors", children: _jsx(Minus, { className: "w-4 h-4" }) }), _jsx("span", { className: "w-8 text-center", children: item.quantity }), _jsx("button", { onClick: () => onUpdateQuantity(item.id, item.size, item.quantity + 1), className: "w-8 h-8 flex items-center justify-center border border-border hover:bg-accent transition-colors", children: _jsx(Plus, { className: "w-4 h-4" }) })] })] })] }, `${item.id}-${item.size}`))) }), _jsxs("div", { className: "border-t border-border pt-4", children: [_jsxs("div", { className: "flex justify-between items-center mb-4", children: [_jsx("span", { className: "text-lg", children: "\u0418\u0442\u043E\u0433\u043E:" }), _jsxs("span", { className: "text-2xl", children: [total.toLocaleString("ru-RU"), " \u20BD"] })] }), _jsx(Button, { className: "w-full bg-foreground text-background hover:bg-foreground/90 h-12 justify-center", onClick: () => {
                                        toast.success("Переход к оформлению заказа", {
                                            description: "Функционал оформления заказа в разработке",
                                        });
                                    }, children: "\u041E\u0444\u043E\u0440\u043C\u0438\u0442\u044C \u0437\u0430\u043A\u0430\u0437" }), _jsx(Button, { variant: "outline", className: "w-full mt-2 justify-center", onClick: () => onOpenChange(false), children: "\u041F\u0440\u043E\u0434\u043E\u043B\u0436\u0438\u0442\u044C \u043F\u043E\u043A\u0443\u043F\u043A\u0438" })] })] }))] }) }));
}
//# sourceMappingURL=CartDialog.js.map